# 輪読会 1 回目(6/6)

## 前書き

### xvii

- スタックサイズが可変。他の言語は固定、仮想空間を占有する
- 最小のスタックサイズは 2kb。大量にスレッドを作ったとしても大したサイズにならない

### xviii

- GOPATH は今は設定しなくてもいい
- この本は 1.5 をベースに書かれている

### xix

- go のドキュメントは全部英語のまま
- Java の様に大々的に日本語翻訳されているようなサイトは無い
- プレイグラウンド を使うと Web ブラウザで go を動かすことが出来る
- コードが保存されるため、共有リンクを使うことで他の人に公開することが出来る

### xx

- Brian Goetz は Java の開発してる人？
  - <https://twitter.com/briangoetz>
- 謝辞は翻訳者は普通読まない。本ができてから書くから

## 第1章: チュートリアル

### 1.1 ハロー、ワールド

- コンパイルやリンカをフロントエンド的に呼び出すのが Go コマンド
- go ではコンパイルやリンカを意識することはあまりない
- `go build` で出てくるバイナリの `helloworld` はソースコードの名前を取ってきているわけではない。ディレクトリ名から生成される
- `go build helloworld.go` の場合は、ファイル名から取ってくる
- セミコロンは不要だが行末に勝手にセミコロンが入る(コンパイル時？)
  - ので syntax error となる

```go
// OK の例
z := x + y;  <---- ここにセミコロンが入る

// NG の例
z := x ;<---- ここに入るからエラーになる
+ y
```

- パッケージのインポート
  - goimport を使うと自動的にインポートされる
- 公式の Hello world
  - <https://golang.org/doc/code.html>

### 1.2 コマンドライン引数

- 慣習的にパッケージの説明が長いと `doc.go` に書かれる
- 演算子のオーバーロードは無い
  - これはプログラマがオーバーロード出来る術がないということで言語的にはオーバーロードがある(+演算子)
- 文字列の結合だけなのに、2次のオーダー処理
  - なんで？
    - 文字列型は不変
    - だから新しい文字列を生成している
- 後置演算子
  - go では i++ は文であり式ではない
- for のあとに () を付けがち
- `os.Args[0]` の中身
  - go run した時は、一時的に作成されるファイルのパスとなる
  - go build し、バイナリを作成した上で実行した場合はカレントディレクトリにできるファイルのパスとなる

### 1.3 重複した行を見つける

- make
  - 参照型(map/channel/slice)の変数を作る
- map に対する range の取り出しの順序はランダム
  - テストコード書く時に困る時が。。
- 1.15?1.14?で常にソートされる機能が実装された？
- `go doc fmt` で Printf の書式を見られる
  - `%v` を指定することが多い。何でも出してくれる

### 1.4 GIF アニメーション

- go の rand はちゃんと seed を生成してあげる必要がある
  - そうしないと毎回同じ値が返ることになってしまう

### 1.6 URL からの平行な取得

- ioutil.Discard を destination にすることでデータを破棄できる
- `<-` の意味は？
  - `<-ch`: ch チャネルからの読み込み
  - `ch<-`: ch チャネルへの書き込み
- チャネルを待ち受ける for の range os.Args[1:] は渡されたURL分のループをするだけ
- <https://www.alexa.com/>: Amazon に買収された会社
  - Internet Archive と 同じ人たちが作った
